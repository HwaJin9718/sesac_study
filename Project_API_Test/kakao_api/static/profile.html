<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 페이지</title>
</head>
<body>
    <h2 id="hello"></h2>
    <img id="profileimg" src="" style="width: 200px;">
    <p>
        <a id="modify" href="">회원정보 수정</a> | 
        <a id="logout" href="/logout">LOGOUT</a>
    </p>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const hello = document.getElementById('hello')
            const profileimg = document.getElementById('profileimg')
            const modify = document.getElementById('modify')
            const logout = document.getElementById('logout')

            const response = await fetch('/user-data')
            const user = await response.json()
            console.log(user)

            hello.textContent = `안녕하세요, ${user.user.nickname}님!`
            profileimg.setAttribute('src', user.user.image)
            modify.setAttribute('href', `/modify?id=${user.user.id}`)
            logout.setAttribute('href', `/logout?id=${user.user.id}`)

        })
    </script>
</body>
</html>